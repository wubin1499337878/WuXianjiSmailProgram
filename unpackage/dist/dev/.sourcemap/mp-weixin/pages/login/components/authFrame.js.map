{"version":3,"sources":["webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?3675","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?636f","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?8b50","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?5111","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?f02c","webpack:///D:/莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue?2a1f"],"names":["data","imgUrl","auth_icon","env","staticDomain","hasUnionId","toIndexB","envUrl","autoTime","canIUse","wx","sTime","created","IsUnionId","methods","refuseAuthori","uni","removeStorageSync","common","openUrl","storageUnionId","getStorageSync","undefined","console","log","_this","checkSession","success","util","isCode2SessionOut","fail","clickLuck","that","times","timer","setInterval","clearInterval","getUserInfo","e","detail","userInfo","getUnionIdData","showModal","title","content","showCancel","confirmText","res","confirm","encryptedData","iv","Ajax","default","get","gatewayUrl","returnAll","then","setStorageSync","returnObject","unionId","openId","setTimeout","getLogin","url","config","login","method","contentType","username","password","remermberme","terminalType","loginType","access_token","properties","isLoding","triggerEvent","redirectTo","codeSeisson","code","weappAppId","Date","getTime","erro"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqsB,CAAgB,qqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8BztB;AACA;AACA;AACA,sE,CAjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAMe,EACbA,IADa,kBACP,CACJ,OAAO,EACLC,MAAM,EAAC,EACLC,SAAS,YAAIC,WAAIC,YAAR,sCADJ,EADF,EAILC,UAAU,EAAE,KAJP,EAKLC,QAAQ,EAAE,KALL,EAMLC,MAAM,EAAEJ,WAAIC,YANP,EAOLI,QAAQ,EAAE,EAPL,EAQLC,OAAO,EAAEC,EAAE,CAACD,OAAH,CAAW,8BAAX,CARJ,EASLE,KAAK,EAAE,EATF,EAAP,CAWD,CAbY,EAcbC,OAda,qBAcH,CACR,KAAKC,SAAL,GACD,CAhBY,EAiBbC,OAAO,EAAE,EACP;AACAC,iBAFO,2BAES,CACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,SAAG,CAACC,iBAAJ,GAAwB,YAAxB,EACA,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,OAApB,EACD,CAfM,EAgBPN,SAhBO,uBAgBK,CACV,IAAIO,cAAc,GAAGV,EAAE,CAACW,cAAH,CAAkB,YAAlB,CAArB,CADU,CAC2C;AACrD,UAAID,cAAc,IAAIA,cAAc,KAAKE,SAArC,IAAkDF,cAAc,KAAK,MAAzE,EAAiF,CAAE;AACjF,aAAKf,UAAL,GAAkB,IAAlB,CACAkB,OAAO,CAACC,GAAR,CAAY,IAAZ,EACD,CAHD,MAGO,CACL;AACA,YAAMC,KAAK,GAAG,IAAd,CACAf,EAAE,CAACgB,YAAH,CAAgB;AACdC,iBADc,qBACJ;AACR,gBAAIC,YAAKC,iBAAL,EAAJ,EAA8B;AAC5BN,qBAAO,CAACC,GAAR,CAAY,IAAZ;AACA;AACAC,mBAAK,CAACpB,UAAN,GAAmB,KAAnB;AACA;AACD,aALD,MAKO;AACL;AACD;AACF,WAVa;AAWdyB,cAXc,kBAWP;AACL;AACD,WAba,EAAhB;;AAeAP,eAAO,CAACC,GAAR,CAAY,KAAZ;AACD;AACF,KAzCM;AA0CT;AACEO,aA3CO,uBA2CK;AACV,UAAIC,IAAI,GAAG,IAAX;AACAT,aAAO,CAACC,GAAR,CAAY,KAAKhB,QAAjB;AACA,UAAI,KAAKA,QAAT,EAAmB;AACjB,eAAO,KAAP;AACD;AACD;AACA,UAAIyB,KAAK,GAAG,CAAZ;AACA,UAAMC,KAAK,GAAGC,WAAW,CAAC,YAAW;AACnCF,aAAK;AACLV,eAAO,CAACC,GAAR,CAAYS,KAAZ;AACAD,YAAI,CAACxB,QAAL,cAAoByB,KAApB;AACA,YAAIA,KAAK,IAAI,CAAb,EAAgB,CAAE;AAChBD,cAAI,CAACxB,QAAL,GAAgB,EAAhB;AACA4B,uBAAa,CAACF,KAAD,CAAb;AACD;AACF,OARwB,EAQtB,IARsB,CAAzB;AASD,KA5DM;AA6DP;AACAG,eA9DO,uBA8DKC,CA9DL,EA8DQ;AACbf,aAAO,CAACC,GAAR,CAAY,aAAZ,EAA0Bc,CAA1B;AACA,UAAIA,CAAC,CAACC,MAAF,CAASC,QAAb,EAAuB,CAAE;AACvB,aAAKC,cAAL;AACAlB,eAAO,CAACC,GAAR,CAAY,MAAZ;AACD,OAHD,MAGO,CAAE;AACPD,eAAO,CAACC,GAAR,CAAY,IAAZ;AACAd,UAAE,CAACgC,SAAH,CAAa;AACXC,eAAK,EAAE,IADI;AAEXC,iBAAO,EAAE,+BAFE;AAGXC,oBAAU,EAAE,KAHD;AAIXC,qBAAW,EAAE,MAJF;AAKXnB,iBAAO,EAAE,iBAACoB,GAAD,EAAS;AAChB,gBAAIA,GAAG,CAACC,OAAR,EAAiB;AACfzB,qBAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,WATU,EAAb;;AAWD;AACF,KAjFM;AAkFPiB,kBAlFO,4BAkFU;AACf,UAAIhB,KAAK,GAAG,IAAZ;AACA;AACEF,aAAO,CAACC,GAAR,CAAY,2BAAZ;AACFd,QAAE,CAAC2B,WAAH,CAAe;AACbV,eAAO,EAAE,iBAASoB,GAAT,EAAc;AACrBxB,iBAAO,CAACC,GAAR,CAAY,OAAZ;AACA,cAAIyB,aAAa,GAAGF,GAAG,CAACE,aAAxB;AACA,cAAIC,EAAE,GAAGH,GAAG,CAACG,EAAb;AACAC,sBAAKC,OAAL,CAAaC,GAAb,WAAoBC,kBAApB,wCAAmE;AACjEC,qBAAS,EAAE,IADsD;AAEjEN,yBAAa,EAAEA,aAFkD;AAGjEC,cAAE,EAAEA,EAH6D,EAAnE;AAIGM,cAJH,CAIQ,UAAAT,GAAG,EAAI;AACb,gBAAIA,GAAG,CAAC/C,IAAJ,CAAS2B,OAAb,EAAsB;AACpBS,2BAAa,CAACX,KAAK,CAACd,KAAP,CAAb;AACAc,mBAAK,CAACjB,QAAN,GAAiB,EAAjB;;AAEAE,gBAAE,CAAC+C,cAAH,CAAkB,YAAlB,EAAgCV,GAAG,CAAC/C,IAAJ,CAAS0D,YAAT,CAAsBC,OAAtD,EAJoB,CAI2C;AAC/DjD,gBAAE,CAAC+C,cAAH,CAAkB,WAAlB,EAA+BV,GAAG,CAAC/C,IAAJ,CAAS0D,YAAT,CAAsBE,MAArD,EALoB,CAKyC;AAC7DnC,mBAAK,CAACpB,UAAN,GAAmB,IAAnB;;AAEAwD,wBAAU,CAAC,YAAM;AACfpC,qBAAK,CAACqC,QAAN,CAAeb,aAAf,EAA8BC,EAA9B;AACD,eAFS,EAEP,GAFO,CAAV;AAGD,aAXD,MAWK,CAAC;AACJ;AACA;AACA;AACD;AACF,WArBD;AAsBD,SA3BY,EAAf;;AA6BD,KAnHM;AAoHP;AACAY,YArHO,oBAqHEb,aArHF,EAqHiBC,EArHjB,EAqHqB;AAC1BC,kBAAKC,OAAL,CAAa;AACXW,WAAG,YAAKC,eAAOC,KAAZ,CADQ;AAEXC,cAAM,EAAE,MAFG;AAGXC,mBAAW,EAAE,MAHF;AAIXnE,YAAI,EAAE;AACJiD,uBAAa,EAAEA,aADX;AAEJmB,kBAAQ,EAAE1D,EAAE,CAACW,cAAH,CAAkB,WAAlB,CAFN;AAGJgD,kBAAQ,EAAE,UAHN;AAIJC,qBAAW,EAAE,IAJT;AAKJC,sBAAY,EAAE,OALV;AAMJC,mBAAS,EAAE,sBANP;AAOJtB,YAAE,EAAEA,EAPA,EAJK,EAAb;;AAaGM,UAbH,CAaQ,UAAAT,GAAG,EAAI;AACb,YAAM/C,IAAI,GAAG+C,GAAG,CAAC/C,IAAjB;AACA,YAAIA,IAAI,CAACyE,YAAT,EAAuB;AACrB/D,YAAE,CAAC+C,cAAH,CAAkB,OAAlB,EAA2BzD,IAAI,CAACyE,YAAhC;AACA,cAAI,MAAI,CAACC,UAAL,CAAgBC,QAApB,EAA8B;AAC5B,kBAAI,CAACC,YAAL,CAAkB,UAAlB;AACD,WAFD,MAEO;AACLf,sBAAU,CAAC,YAAM;AACfnD,gBAAE,CAACmE,UAAH,CAAc;AACZd,mBAAG,EAAE,oBADO,EAAd;;AAGD,aAJS,EAIP,GAJO,CAAV;AAKD;AACF;AACF,OA3BD;AA4BD,KAlJM;AAmJPe,eAnJO,yBAmJO;AACZpE,QAAE,CAACuD,KAAH,CAAS;AACPtC,eAAO,EAAE,iBAAAoB,GAAG,EAAI;AACd;AACA;AACAxB,iBAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBuB,GAAjB;AACA,cAAIA,GAAG,CAACgC,IAAR,EAAc;AACZ;AACA5B,wBAAKC,OAAL,CAAaC,GAAb,WAAoBC,kBAApB,mDAAuEP,GAAG,CAACgC,IAA3E;AACE,cAAEC,UAAU,EAAVA,eAAF,EADF,EACkB,EAAEzB,SAAS,EAAE,IAAb,EADlB;AAEGC,gBAFH,CAEQ,UAAAT,GAAG,EAAI;AACX,kBAAI/C,IAAI,GAAG+C,GAAG,CAAC/C,IAAf;AACA,kBAAIA,IAAI,CAAC2B,OAAT,EAAkB;AAChB;AACAjB,kBAAE,CAAC+C,cAAH,CAAkB,UAAlB,EAA8B,IAAIwB,IAAJ,GAAWC,OAAX,EAA9B;AACA,sBAAI,CAAC7E,UAAL,GAAkB,KAAlB;;AAEA;AACD;AACF,aAXH;AAYD;AACF,SApBM;AAqBPyB,YAAI,EAAE,cAAAqD,IAAI,EAAI;AACZ5D,iBAAO,CAACC,GAAR,CAAY,YAAZ;AACD,SAvBM,EAAT;;AAyBD,KA7KM,EAjBI,E;;;;;;;;;;;;;AClCf;AAAA;AAAA;AAAA;AAAyxC,CAAgB,0pCAAG,EAAC,C;;;;;;;;;;;ACA7yC,uC","file":"pages/login/components/authFrame.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./authFrame.vue?vue&type=template&id=37818012&\"\nvar renderjs\nimport script from \"./authFrame.vue?vue&type=script&lang=js&\"\nexport * from \"./authFrame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./authFrame.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('37818012')) {\n      api.createRecord('37818012', component.options)\n    } else {\n      api.reload('37818012', component.options)\n    }\n    module.hot.accept(\"./authFrame.vue?vue&type=template&id=37818012&\", function () {\n      api.rerender('37818012', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"莹酱/project/智能客服/customerService/pages/login/components/authFrame.vue\"\nexport default component.exports","export * from \"-!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authFrame.vue?vue&type=template&id=37818012&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authFrame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authFrame.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { Ajax, env, util } from '@/pages/utils/index'\r\nimport { gatewayUrl } from '@/pages/assets/js/domain'\r\nimport { weappAppId }  from '@/pages/assets/js/env'\r\nimport { config } from '@/pages/assets/js/config'\r\nexport default {\r\n  data(){\r\n    return {\r\n      imgUrl:{\r\n        auth_icon:`${env.staticDomain}/images/mall-images/auth_icon.png`\r\n      },\r\n      hasUnionId: false,\r\n      toIndexB: false,\r\n      envUrl: env.staticDomain,\r\n      autoTime: '',\r\n      canIUse: wx.canIUse('button.open-type.getUserInfo'),\r\n      sTime: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.IsUnionId();\r\n  },\r\n  methods: {\r\n    // 拒绝授权跳转首页\r\n    refuseAuthori() {\r\n      // if (this.properties.toIndex) {\r\n      //   setTimeout(() => {\r\n      //     wx.redirectTo({\r\n      //       url: '/pages/index/index'\r\n      //     });\r\n      //   }, 500);\r\n      // } else {\r\n      //   this.toIndexB = true\r\n      // }\r\n\t\t\t\r\n      uni.removeStorageSync()('wx_unionId')\r\n      this.common.openUrl('/home')\r\n    },\r\n    IsUnionId() {\r\n      var storageUnionId = wx.getStorageSync('wx_unionId');// 缓存unionId参数\r\n      if (storageUnionId && storageUnionId !== undefined && storageUnionId !== 'null') { // 授权过了\r\n        this.hasUnionId = true\r\n        console.log('授权');\r\n      } else {\r\n        // 在回调中先使用 checkSession 进行登录态检查，避免 login 刷新登录态\r\n        const _this = this;\r\n        wx.checkSession({\r\n          success() {\r\n            if (util.isCode2SessionOut()) {\r\n              console.log(8887);\r\n              // 没有超过2小时不需要code2session了\r\n              _this.hasUnionId = false\r\n              return;\r\n            } else {\r\n              // _this.codeSeisson();\r\n            }\r\n          },\r\n          fail() {\r\n            // _this.codeSeisson();\r\n          }\r\n        });\r\n        console.log('没授权');\r\n      }\r\n    },\r\n\t\t//防止重新提交\r\n    clickLuck() {\r\n      let that = this\r\n      console.log(this.autoTime)\r\n      if (this.autoTime) {\r\n        return false;\r\n      }\r\n      // clearInterval(timer);\r\n      let times = 5;\r\n      const timer = setInterval(function() {\r\n        times--;\r\n        console.log(times)\r\n        that.autoTime = ` ${times}秒`\r\n        if (times <= 0) { // color: '#bc2826'\r\n          that.autoTime = ''\r\n          clearInterval(timer);\r\n        }\r\n      }, 1000);\r\n    },\r\n    // 授权拿取相应的数据\r\n    getUserInfo(e) {\r\n      console.log('同意授权1111111',e);\r\n      if (e.detail.userInfo) { // 用户按了允许授权按钮\r\n        this.getUnionIdData();\r\n        console.log('同意授权');\r\n      } else { // 用户按了拒绝按钮\r\n        console.log(6665);\r\n        wx.showModal({\r\n          title: '警告',\r\n          content: '您点击了拒绝授权，将无法进入小程序，请授权之后再进入!!!',\r\n          showCancel: false,\r\n          confirmText: '返回授权',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              console.log('用户点击了“返回授权”');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getUnionIdData() {\r\n      var _this = this;\r\n      // 获取unionId\r\n        console.log('在这？？？11111111111111111111')\r\n      wx.getUserInfo({\r\n        success: function(res) {\r\n          console.log('在这？？？')\r\n          var encryptedData = res.encryptedData;\r\n          var iv = res.iv;\r\n          Ajax.default.get(`${gatewayUrl}/api/common/wechat/weapp/userInfo`, {\r\n            returnAll: true,\r\n            encryptedData: encryptedData,\r\n            iv: iv\r\n          }).then(res => {\r\n            if (res.data.success) {\r\n              clearInterval(_this.sTime);\r\n              _this.autoTime = ''\r\n              \r\n              wx.setStorageSync('wx_unionId', res.data.returnObject.unionId);// 缓存unionId参数\r\n              wx.setStorageSync('wx_openid', res.data.returnObject.openId);// 缓存openId参数\r\n              _this.hasUnionId = true\r\n\r\n              setTimeout(() => {\r\n                _this.getLogin(encryptedData, iv);\r\n              }, 200);\r\n            }else{//没有获取到unionId 跳转去登录页面\r\n              // wx.navigateTo({\r\n              //   url:'/pages/login/login'\r\n              // })\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 授权获取token数据\r\n    getLogin(encryptedData, iv) {\r\n      Ajax.default({\r\n        url: `${config.login}`,\r\n        method: 'post',\r\n        contentType: 'form',\r\n        data: {\r\n          encryptedData: encryptedData,\r\n          username: wx.getStorageSync('wx_openid'),\r\n          password: 'password',\r\n          remermberme: true,\r\n          terminalType: 'WEAPP',\r\n          loginType: 'wechat_phone_open_id',\r\n          iv: iv\r\n        }\r\n      }).then(res => {\r\n        const data = res.data;\r\n        if (data.access_token) {\r\n          wx.setStorageSync('token', data.access_token);\r\n          if (this.properties.isLoding) {\r\n            this.triggerEvent('lodingFn');\r\n          } else {\r\n            setTimeout(() => {\r\n              wx.redirectTo({\r\n                url: '/pages/index/index'\r\n              });\r\n            }, 500);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    codeSeisson() {\r\n      wx.login({\r\n        success: res => {\r\n          // 发送 res.code 到后台换取 openId, sessionKey, unionId\r\n          // 通知gatway\r\n          console.log('登录',res)\r\n          if (res.code) {\r\n            // 发起网络请求\r\n            Ajax.default.get(`${gatewayUrl}/api/common/wechat/weapp/code2session/${res.code}`,\r\n              { weappAppId }, { returnAll: true })\r\n              .then(res => {\r\n                var data = res.data;\r\n                if (data.success) {\r\n                  // if (data.returnObject.openId) {\r\n                  wx.setStorageSync('codeTime', new Date().getTime());\r\n                  this.hasUnionId = false\r\n                  \r\n                  // }\r\n                }\r\n              });\r\n          }\r\n        },\r\n        fail: erro => {\r\n          console.log('wx.login失败');\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authFrame.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authFrame.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}